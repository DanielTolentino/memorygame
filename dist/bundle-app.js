!function(t){var e={};function a(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1)}([function(t,e,a){"use strict";a.r(e);const i=0,s=3,r=1e3,n=8;var c=class{constructor(){this.deck=null,this.gameDeck=[],this.gameUI=null,this.playerRating=i,this.moveCount=0,this.flipCount=0,this.matchCount=0,this.firstCard=void 0,this.deckFragment=null,this.wait=(t=>new Promise((e,a)=>setTimeout(e,t)))}setDeck(t){this.deck=t}setGameUI(t){this.gameUI=t}getGameDeck(){return this.gameDeck}startNewGame(){this.playerRating=i,this.gameUI.updatePlayerRating(this.playerRating,s),this.moveCount=0,this.gameUI.updateMoveCount(this.moveCount),this.flipCount=0,this.matchCount=0,this.firstCard=void 0,this.gameDeck=this.deck.shuffle(),this.gameUI.buildDeck(this.gameDeck),this.gameDeck.forEach((t,e)=>{this.gameUI.turnCardFaceDown(e)}),this.gameUI.startTimer()}turn(t){return this.gameUI.turnCardFaceUp(t),this.flipCount+=1,1===this.flipCount?this.firstCard=t:(this.moveCount+=1,this.gameUI.updateMoveCount(this.moveCount),this.deck.isSymbolMatch(this.gameDeck,this.firstCard,t)?this.pairMatched(this.firstCard,t):this.pairNotMatched(this.firstCard,t)),this.matchCount>=n&&(this.gameUI.stopTimer(),this.gameUI.animateGameWin(),!0)}pairMatched(t,e){this.matchCount+=1,this.gameUI.markMatchedPair(t,e),this.firstCard=void 0,this.flipCount=0,this.playerRating=this.playerRating<s?this.playerRating+=1:this.playerRating,this.gameUI.updatePlayerRating(this.playerRating,s)}async pairNotMatched(t,e){await this.wait(r),this.gameUI.turnCardFaceDown(t),this.gameUI.turnCardFaceDown(e),this.firstCard=void 0,this.flipCount=0,this.playerRating=this.playerRating>i?this.playerRating-=1:this.playerRating,this.gameUI.updatePlayerRating(this.playerRating,s)}};var o=class{constructor(){this.gameTimer=null,this.gameTimerMinutes=0,this.gameTimerSeconds=0,this.secondsDOMElement=document.querySelector(".timer-seconds"),this.minutesDOMElement=document.querySelector(".timer-minutes")}buildDeck(t){const e=document.querySelector(".deck");if(e.childElementCount>0)for(;e.firstChild;)e.removeChild(e.firstChild);const a=document.createDocumentFragment();t.forEach((t,e)=>{const i=document.createElement("li");i.setAttribute("id",`${e}`),i.setAttribute("class","card");const s=document.createElement("i");s.setAttribute("class",`fa ${t.symbol}`),i.appendChild(s),a.appendChild(i)}),e.appendChild(a)}turnCardFaceDown(t){document.getElementById(`${t}`).setAttribute("class","card")}turnCardFaceUp(t){const e=document.getElementById(`${t}`),a=e.getAttribute("class")+" open faceup ";e.setAttribute("class",a)}markMatchedPair(t,e){const a=document.getElementById(`${t}`);let i=a.getAttribute("class")+" match ";a.setAttribute("class",i);const s=document.getElementById(`${e}`);i=s.getAttribute("class")+" match",s.setAttribute("class",i),this.animateMatchedPair(a,s)}animateMatchedPair(t,e){const a="animation-duration: 1s; animation-name: card-match;";t.setAttribute("style",a),e.setAttribute("style",a)}animateGameWin(){for(let t=0;t<16;t+=1){const t=document.getElementById(`${this.randomInclusiveBetween(1,8)}`),e=document.getElementById(`${this.randomInclusiveBetween(1,8)}`),a="card open faceup";t.setAttribute("class",a),e.setAttribute("class",a),this.animateMatchedPair(t,e)}}randomInclusiveBetween(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}updateMoveCount(t){document.querySelector(".moves").innerText=t}updatePlayerRating(t,e){const a=document.querySelectorAll(".rating");for(let i=0;i<e;i+=1)t-i<=0?a[i].setAttribute("class","rating fa fa-star-o"):a[i].setAttribute("class","rating fa fa-star")}startTimer(){this.stopTimer(),this.gameTimerMinutes=0,this.minutesDOMElement.innerText="00",this.gameTimerSeconds=0,this.secondsDOMElement.innerText="00",this.gameTimer=setInterval(this.showNewTime,1e3,this)}showNewTime(t){t.gameTimerSeconds+=1,t.gameTimerSeconds>=60&&(t.gameTimerSeconds=0,t.gameTimerMinutes+=1,t.minutesDOMElement.innerText=("0"+t.gameTimerMinutes).slice(-2)),t.secondsDOMElement.innerText=("0"+t.gameTimerSeconds).slice(-2)}stopTimer(){null!==this.gameTimer&&(clearInterval(this.gameTimer),this.gameTimer=null)}};const m=new class{constructor(){this.templateCardDeck=[{symbol:"fa-diamond",faceup:!1,matched:!1},{symbol:"fa-diamond",faceup:!1,matched:!1},{symbol:"fa-paper-plane-o",faceup:!1,matched:!1},{symbol:"fa-paper-plane-o",faceup:!1,matched:!1},{symbol:"fa-anchor",faceup:!1,matched:!1},{symbol:"fa-anchor",faceup:!1,matched:!1},{symbol:"fa-bolt",faceup:!1,matched:!1},{symbol:"fa-bolt",faceup:!1,matched:!1},{symbol:"fa-cube",faceup:!1,matched:!1},{symbol:"fa-cube",faceup:!1,matched:!1},{symbol:"fa-leaf",faceup:!1,matched:!1},{symbol:"fa-leaf",faceup:!1,matched:!1},{symbol:"fa-bicycle",faceup:!1,matched:!1},{symbol:"fa-bicycle",faceup:!1,matched:!1},{symbol:"fa-bomb",faceup:!1,matched:!1},{symbol:"fa-bomb",faceup:!1,matched:!1}]}isSymbolMatch(t,e,a){return t[e].symbol===t[a].symbol}shuffle(){let t,e,a=this.templateCardDeck,i=a.length;for(;0!==i;)e=Math.floor(Math.random()*i),t=a[i-=1],a[i]=a[e],a[e]=t;return a}},l=new c,u=new o;l.setDeck(m),l.setGameUI(u),l.startNewGame(),document.querySelector(".deck").addEventListener("click",t=>{l.turn(t.target.getAttribute("id"))}),document.querySelector(".restart").addEventListener("click",t=>{l.startNewGame()})},function(t,e,a){t.exports=a(0)}]);